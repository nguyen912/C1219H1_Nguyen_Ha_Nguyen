<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    let name = "Nguyen Ha Nguyen";
    let idCard = "123456789";
    let birth = "09/12/1998";
    let email = "nguyen@gmail.com";
    let add = "123 PCT Đà Nẵng";
    let customer = "Gold";
    let discount = 10;
    let guests = 2;
    let rentDay = 2;
    let service = "House";
    let room = "Normal";
    let checkValidate = false;

    let option = prompt(
        "1. Show customer information.\n" +
        "2. Edit customer information.\n" +
        "3. Show the amount to be paid after discount.");

    switch (option) {
        case "1":
            showCustomInfo();
            break;
        case "2":
            editCustomInfo();
            showCustomInfo();
            break;
        case "3":
            payTotal();
    }

    function showCustomInfo() {
        alert(
            "CUSTOMER INFORMATION\n" +
            "Name: " + name + "\n" +
            "ID card: " + idCard + "\n" +
            "Birthday: " + birth + "\n" +
            "Email: " + email + "\n" +
            "Address: " + add + "\n" +
            "Customer type: " + customer + "\n" +
            "Discount: " + discount + "\n" +
            "The number of guests: " + guests + "\n" +
            "The number of days rented: " + rentDay + "\n" +
            "Service type: " + service + "\n" +
            "Room type: " + room
        );
    }

    function editCustomInfo() {
        let chooseEdit = prompt(
            "Choose Customer Information You Want To Edit\n" +
            "1. Name: " + name + "\n" +
            "2. ID card: " + idCard + "\n" +
            "3. Birthday: " + birth + "\n" +
            "4. Email: " + email + "\n" +
            "5. Address: " + add + "\n" +
            "6. Customer type: " + customer + "\n" +
            "7. Discount: " + discount + "\n" +
            "8. The number of guests: " + guests + "\n" +
            "9. The number of days rented: " + rentDay + "\n" +
            "10. Service type: " + service + "\n" +
            "11. Room type: " + room);
        switch (chooseEdit) {
            case "1":
                name = prompt("Enter name you want to edit: ");
                break;
            case "2":
                idCard = parseInt(prompt("Enter ID you want to edit: "));
                break;
            case "3":
                birth = prompt("Enter birthday you want to edit: ");
                break;
            case "4":
                email = prompt("Enter email you want to edit: ");
                break;
            case "5":
                add = prompt("Enter address you want to edit: ");
                break;
            case "6":
                customer = prompt("Enter customer type you want to edit: ");
                break;
            case "7":
                discount = prompt("Enter discount you want to edit: ");
                break;
            case "8":
                guests = prompt("Enter the number of guests you want to edit: ");
                break;
            case "9":
                rentDay = prompt("Enter the number of days rented you want to edit: ");
                break;
            case "10":
                service = prompt("Enter name you want to edit: ");
                break;
            case "11":
                room = prompt("Enter name you want to edit: ");
            default:
                alert("Failed");
        }
    }

    function calculateServicePrice() {
        let price;
        switch (service) {
            case "Villa":
                return price = 500;
                break;
            case "House":
                return  price = 300;
                break;
            case "Room":
                return  price = 100;
        }
    }

    function payTotal() {
        let discountCondition = 0;
        let currentYear = new Date().getFullYear();
        let birthYear = new Date(birth).getFullYear();
        let age = currentYear - birthYear;

        if (add.search("Đà Nẵng") != -1) {
            discountCondition +=20;
            if (age >= 30) {
                discountCondition += 2;
            }
            else if (age >= 20) {
                discountCondition += 1;
            }
        }
        else if (add.search("Huế") != -1) {
            discountCondition += 10;
        }
        else if (add.search("Quảng Nam") != -1) {
            discountCondition += 5;
        }

        if (rentDay >= 7) {
            discountCondition += 30;
        }
        else if (rentDay >= 5 && rentDay < 7) {
            discountCondition += 20;
        }
        else if (rentDay >= 2 && rentDay <= 4) {
            discountCondition += 10;
        }

        switch (customer) {
            case "Diamond":
                discountCondition += 15;
                break;
            case "Platinum":
                discountCondition += 10;
                break;
            case "Gold":
                discountCondition += 5;
                break;
            case "Sliver":
                discountCondition += 2;
        }

        let total = calculateServicePrice() * rentDay * (1 - discount / 100);
        total -= discountCondition;
        alert("Total: " + total + "$");
    }
</script>
</body>
</html>